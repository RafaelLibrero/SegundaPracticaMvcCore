@model Libro
@using SegundaPracticaMvcCore.Extensions

@{
    List<int> ids = null;
    if (Context.Session.GetObject<List<int>>("IDSLIBROS") != null)
    {
        ids = Context.Session.GetObject<List<int>>("IDSLIBROS");
    }
}

<div>
    <h4>@Model.Titulo</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Autor)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Autor)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Editorial)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Editorial)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Portada)
        </dt>
        <dd class = "col-sm-10">
            <img src="@Model.Portada" style="height: 250px; width: auto" />
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Resumen)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Resumen)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Precio)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Precio)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.GeneroId)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.GeneroId)
        </dd>
    </dl>
</div>

@if (ids == null || !ids.Contains(Model.LibroId))
{
    <a asp-controller="Libros"
       asp-action="AñadirLibro"
       asp-route-libroId="@Model.LibroId">
        Añadir libro
    </a>

}
else
{
    <a asp-controller="Libros"
       asp-action="QuitarLibro"
       asp-route-libroId="@Model.LibroId">
        Quitar libro
    </a>
}